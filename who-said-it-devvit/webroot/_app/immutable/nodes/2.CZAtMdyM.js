import{a as g,t as F,d as ve,c as se}from"../chunks/disclose-version.BjHMkLjc.js";import"../chunks/legacy.CLw3zs9m.js";import{o as te,q as Ne,K as $e,J as De,al as Ee,P as Re,Q as ye,z as ke,R as de,y as ne,ah as He,as as ce,L as Se,M as qe,N as ze,A as Ie,at as Ve,au as Ge,ak as Ue,av as Ze,aw as We,a9 as Ke,a7 as Pe,D as je,ax as Qe,ay as Ye,az as Je,af as Xe,I as Ae,aA as et,aB as tt,aC as at,aD as rt,ao as st,p as he,t as Q,j as _e,m as c,k as o,l as n,i as V,g as r,F as h,aE as B,aF as be,aG as lt}from"../chunks/runtime.CXJ1GHQm.js";import{d as ot,l as nt,e as D,a as $,s as we,f as ie,b as it}from"../chunks/store.CammLAri.js";import{p as K,i as S,o as ct}from"../chunks/index-client.CrBTmulA.js";import{i as xe}from"../chunks/lifecycle.CJ537gQr.js";import{w as vt}from"../chunks/index.ztbM0VR3.js";function dt(t,e){return e}function ut(t,e,a,s){for(var l=[],u=e.length,f=0;f<u;f++)Ge(e[f].e,l,!0);var _=u>0&&l.length===0&&a!==null;if(_){var y=a.parentNode;Ue(y),y.append(a),s.clear(),re(t,e[0].prev,e[u-1].next)}Ze(l,()=>{for(var x=0;x<u;x++){var i=e[x];_||(s.delete(i.k),re(t,i.prev,i.next)),We(i.e,!_)}})}function mt(t,e,a,s,l,u=null){var f=t,_={flags:e,items:new Map,first:null};te&&Ne();var y=null,x=!1;$e(()=>{var i=a(),b=De(i)?i:i==null?[]:Ee(i),d=b.length;if(x&&d===0)return;x=d===0;let v=!1;if(te){var p=f.data===Re;p!==(d===0)&&(f=ye(),ke(f),de(!1),v=!0)}if(te){for(var T=null,q,m=0;m<d;m++){if(ne.nodeType===8&&ne.data===He){f=ne,v=!0,de(!1);break}var k=b[m],A=s(k,m);q=Me(ne,_,T,null,k,A,m,l,e),_.items.set(A,q),T=q}d>0&&ke(ye())}if(!te){var C=Ke;ft(b,_,f,l,e,(C.f&ce)!==0,s)}u!==null&&(d===0?y?Se(y):y=qe(()=>u(f)):y!==null&&ze(y,()=>{y=null})),v&&de(!0),a()}),te&&(f=ne)}function ft(t,e,a,s,l,u,f){var _=t.length,y=e.items,x=e.first,i=x,b,d=null,v=[],p=[],T,q,m,k;for(k=0;k<_;k+=1){if(T=t[k],q=f(T,k),m=y.get(q),m===void 0){var A=i?i.e.nodes_start:a;d=Me(A,e,d,d===null?e.first:d.next,T,q,k,s,l),y.set(q,d),v=[],p=[],i=d.next;continue}if(pt(m,T,k),m.e.f&ce&&Se(m.e),m!==i){if(b!==void 0&&b.has(m)){if(v.length<p.length){var C=p[0],w;d=C.prev;var I=v[0],j=v[v.length-1];for(w=0;w<v.length;w+=1)Te(v[w],C,a);for(w=0;w<p.length;w+=1)b.delete(p[w]);re(e,I.prev,j.next),re(e,d,I),re(e,j,C),i=C,d=j,k-=1,v=[],p=[]}else b.delete(m),Te(m,i,a),re(e,m.prev,m.next),re(e,m,d===null?e.first:d.next),re(e,d,m),d=m;continue}for(v=[],p=[];i!==null&&i.k!==q;)(u||!(i.e.f&ce))&&(b??(b=new Set)).add(i),p.push(i),i=i.next;if(i===null)continue;m=i}v.push(m),d=m,i=m.next}if(i!==null||b!==void 0){for(var E=b===void 0?[]:Ee(b);i!==null;)(u||!(i.e.f&ce))&&E.push(i),i=i.next;var R=E.length;if(R>0){var U=null;ut(e,E,U,y)}}Ie.first=e.first&&e.first.e,Ie.last=d&&d.e}function pt(t,e,a,s){Ve(t.v,e),t.i=a}function Me(t,e,a,s,l,u,f,_,y){var x=(y&Ye)!==0,i=(y&Je)===0,b=x?i?Pe(l):je(l):l,d=y&Qe?je(f):f,v={i:d,v:b,k:u,a:null,e:null,prev:a,next:s};try{return v.e=qe(()=>_(t,b,d),te),v.e.prev=a&&a.e,v.e.next=s&&s.e,a===null?e.first=v:(a.next=v,a.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function Te(t,e,a){for(var s=t.next?t.next.e.nodes_start:a,l=e?e.e.nodes_start:a,u=t.e.nodes_start;u!==s;){var f=Xe(u);l.before(u),u=f}}function re(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function ue(t){if(te){var e=!1,a=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var s=t.value;Y(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var l=t.checked;Y(t,"checked",null),t.checked=l}}};t.__on_r=a,et(a),ot()}}function Y(t,e,a,s){var l=t.__attributes??(t.__attributes={});te&&(l[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||l[e]!==(l[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[at]=a),a==null?t.removeAttribute(e):typeof a!="string"&&gt(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var Ce=new Map;function gt(t){var e=Ce.get(t.nodeName);if(e)return e;Ce.set(t.nodeName,e=[]);for(var a,s=Ae(t),l=Element.prototype;l!==s;){a=tt(s);for(var u in a)a[u].set&&e.push(u);s=Ae(s)}return e}function ge(t,e,a){if(a){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function me(t,e,a=e){var s=rt();nt(t,"input",()=>{var l=fe(t)?pe(t.value):t.value;a(l),s&&l!==(l=e())&&(t.value=l??"")}),st(()=>{var l=e();if(te&&t.defaultValue!==t.value){a(fe(t)?pe(t.value):t.value);return}fe(t)&&l===pe(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function fe(t){var e=t.type;return e==="number"||e==="range"}function pe(t){return t===""?null:+t}function Le(t){return function(...e){var a=e[0];a.target===this&&(t==null||t.apply(this,e))}}function Fe(t,e){var u;var a=(u=t.$$events)==null?void 0:u[e.type],s=De(a)?a.slice():a==null?[]:[a];for(var l of s)l.call(this,e)}var ht=F(`<div class="text-[0.9em]"><div class="absolute w-[3.5em] top-[67%] -translate-y-1/2 left-[88.8%] -translate-x-1/2"><img class="w-full h-full" src="/qr.png" alt=""></div> <div class="absolute w-[3.5em] top-[50.7%] -translate-y-1/2 left-[8.2%] -translate-x-1/2"><img class="w-full h-full" src="/ql.png" alt=""></div> <div class="w-[70%] text-[1.05em] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2"><h1 class="text-[2.3em] text-center leading-[1.1em] 
        text-[#FF7700] drop-shadow-sm shadow-quaternary"> </h1> <div class="flex justify-center items-center gap-1em mt-[1.2em] pb-5em"><div class="relative size-[12em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <div class=" absolute left-1/2 -translate-x-1/2 bottom-[-5.3em] "><p class="orangeTextInv top-[-1.85em] absolute left-1/2 -translate-x-1/2 whitespace-nowrap text-[1.5em]"> </p> <div><button class="selectButton">select</button></div></div></div> <div class="text-[2.8em] w-[1.2em]"><p class="orangeText">or</p></div> <div class="relative size-[12em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <div class=" absolute left-1/2 -translate-x-1/2 bottom-[-5.3em] "><p class="orangeTextInv top-[-1.85em] absolute left-1/2 -translate-x-1/2 whitespace-nowrap text-[1.5em]"> </p> <div><button class="selectButton">select</button></div></div></div></div></div></div>`);function _t(t,e){he(e,!1);let a=K(e,"selectedChoice",12,null),s=K(e,"gameData",8);xe();var l=ht(),u=c(o(l),4),f=o(u),_=o(f);n(f);var y=c(f,2),x=o(y),i=o(x),b=c(i,2),d=o(b),v=o(d,!0);n(d);var p=c(d,2),T=o(p);n(p),n(b),n(x);var q=c(x,4),m=o(q),k=c(m,2),A=o(k),C=o(A,!0);n(A);var w=c(A,2),I=o(w);n(w),n(k),n(q),n(y),n(u),n(l),Q(()=>{$(_,`" ${s().question??""} "`),Y(i,"src",s().choice_one_image),$(v,s().choice_one_text),Y(m,"src",s().choice_two_image),$(C,s().choice_two_text)}),D("click",T,()=>a(0)),D("click",p,function(j){Fe.call(this,e,j)}),D("click",I,()=>a(1)),D("click",w,function(j){Fe.call(this,e,j)}),g(t,l),_e()}var bt=F("<h2> </h2>"),wt=F("<h2> </h2>"),xt=F('<div class="text-[0.75em] absolute rotate-[-18deg] w-[10em] -top-[3em] -left-[5em]"><img src="/bubble.svg" alt=""> <p class="font-secondary text-[1.1em] leading-[1em] text-center absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2"> </p></div>'),yt=F('<div class="text-[0.75em] absolute rotate-[-18deg] w-[10em] -top-[3em] -left-[5em]"><img src="/bubble.svg" alt=""> <p class="font-secondary text-[1.1em] leading-[1em] text-center absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2"> </p></div>'),kt=F(`<div class="z-[10] absolute bg-[#FAFE41] text-[0.6em] px-[1.4em] py-[0.4em] border-[0.2em] border-black top-[1em] left-[1em] font-secondary "><!></div> <button class=" absolute top-1em right-1em w-[7em] text-[0.78em] pb-[0.4em] grad-button text-white pt-[0.3em] font-secondary">create</button> <div class="text-[0.8em]"><div class="text-[0.9em]"><div class="absolute w-[3.5em] top-[67%] -translate-y-1/2 left-[88.8%] -translate-x-1/2"><img class="w-full h-full" src="/qr.png" alt=""></div> <div class="absolute w-[3.5em] top-[50.7%] -translate-y-1/2 left-[8.2%] -translate-x-1/2"><img class="w-full h-full" src="/ql.png" alt=""></div> <div class="w-[65%] text-[1.05em] absolute top-[50%] -translate-y-1/2 left-1/2 -translate-x-1/2"><h1 class="text-[6.2em] text-center leading-[1.1em]
            text-[#FF7700] drop-shadow-sm shadow-quaternary"><!></h1> <div class="flex justify-between items-center gap-1em mt-[2.1em]"><div class="relative size-[10em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <!></div> <div class="text-[1.4em] mt-1hem leading-[1.1em] orangeTextInv text-center"><p>total votes</p> <p class="text-[1.1em] font-secondary"> </p></div> <div class="relative  size-[10em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <!></div></div> <div class="w-full mt-[0.9em] rounded-full h-2em relative bg-secondary flex justify-between items-center"><div class="absolute h-full bg-quaternary rounded-full"></div> <p class="relative px-1em text-[1.1em] text-white"></p> <p class="relative px-1em text-[1.1em] text-white"></p></div> <div class="flex mt-[0.5em] justify-between items-center"><p class="orangeTextInv whitespace-nowrap text-[1.5em]"> </p> <p class="orangeTextInv whitespace-nowrap text-[1.5em]"> </p></div></div></div></div>`,1);function Oe(t,e){he(e,!1);let a=K(e,"selectedChoice",8),s=K(e,"gameData",8),l=K(e,"isAdminView",8),u=K(e,"username",8),f=K(e,"mode",12),_=(s().choiceOutcome[0]/(s().choiceOutcome[0]+s().choiceOutcome[1])*100||0).toFixed(),y=(s().choiceOutcome[1]/(s().choiceOutcome[0]+s().choiceOutcome[1])*100||0).toFixed();xe();var x=kt(),i=V(x),b=o(i);S(b,l,z=>{var L=bt(),P=o(L);n(L),Q(()=>$(P,`Welcome ${u()??""}!!`)),g(z,L)},z=>{var L=wt(),P=o(L,!0);n(L),Q(()=>$(P,s().correct_choice==a()?"yayy!!":"oops!!")),g(z,L)}),n(i);var d=c(i,2),v=c(d,2),p=o(v),T=c(o(p),4),q=o(T),m=o(q);S(m,l,z=>{var L=ve("your post");g(z,L)},z=>{var L=ve();Q(()=>$(L,s().correct_choice==a()?"you win!!":"you lose!!")),g(z,L)}),n(q);var k=c(q,2),A=o(k),C=o(A),w=c(C,2);S(w,()=>a()==0,z=>{var L=xt(),P=c(o(L),2),ae=o(P,!0);n(P),n(L),Q(()=>$(ae,s().correct_choice==a()?"you were right!!":"AHAHAH!! WRONG")),g(z,L)}),n(A);var I=c(A,2),j=c(o(I),2),E=o(j,!0);n(j),n(I);var R=c(I,2),U=o(R),J=c(U,2);S(J,()=>a()==1,z=>{var L=yt(),P=c(o(L),2),ae=o(P,!0);n(P),n(L),Q(()=>$(ae,s().correct_choice==a()?"you were right!!":"AHAHAH!! WRONG")),g(z,L)}),n(R),n(k);var Z=c(k,2),X=o(Z);Y(X,"style",`width:${_??""}%;`);var M=c(X,2);M.textContent=`${_??""}%`;var O=c(M,2);O.textContent=`${(y==0?0:100-_)??""}%`,n(Z);var W=c(Z,2),G=o(W),N=o(G,!0);n(G);var H=c(G,2),ee=o(H,!0);n(H),n(W),n(T),n(p),n(v),Q(()=>{Y(A,"style",`border-color:${(s().correct_choice==0?"#55FF66":"#FF5555")??""} ;`),Y(C,"src",s().choice_one_image),$(E,s().choiceOutcome[0]+s().choiceOutcome[1]),Y(R,"style",`border-color:${(s().correct_choice==1?"#55FF66":"#FF5555")??""} ;`),Y(U,"src",s().choice_two_image),$(N,s().choice_one_text),$(ee,s().choice_two_text)}),D("click",d,()=>f("create")),g(t,x),_e()}const le=vt(!1);var It=F('<div class="z-[10] absolute bg-[#FAFE41] text-[0.6em] px-[1.4em] py-[0.4em] border-[0.2em] border-black top-[1em] left-[1em] font-secondary "><h2>good luck!!</h2></div> <div class="text-[0.8em]"><!></div>',1);function jt(t,e){he(e,!1),we();let a=K(e,"gameData",12),s=K(e,"mode",12),l=B(null),u=B(0);ct(()=>{a().answered!==null&&(h(u,1),h(l,a().answered))});function f(){ie(le,!0),window.parent.postMessage({type:"submitChoice",data:{selectedChoice:r(l)}},"*"),a({...a(),choiceOutcome:{...a().choiceOutcome,[r(l)]:a().choiceOutcome[r(l)]+1}}),setTimeout(()=>{h(u,1),ie(le,!1)},890)}xe();var _=se(),y=V(_);S(y,()=>r(u)==0,x=>{var i=It(),b=c(V(i),2),d=o(b);_t(d,{get gameData(){return a()},get selectedChoice(){return r(l)},set selectedChoice(v){h(l,v)},$$events:{click:f},$$legacy:!0}),n(b),g(x,i)},x=>{var i=se(),b=V(i);S(b,()=>r(u)==1,d=>{Oe(d,{get mode(){return s()},set mode(v){s(v)},get selectedChoice(){return r(l)},set selectedChoice(v){h(l,v)},get gameData(){return a()},set gameData(v){a(v)},$$legacy:!0})},null,!0),g(x,i)}),g(t,_),_e()}var At=F('<div class="fixed w-full flex justify-center items-center h-full z-10 left-0 top-0 "><div class="relative popup flex justify-center items-center w-[90%] text-[0.75em] h-[90%] border-[0.5em] border-black text-[#FF7700] bg-[#FFFFFF]"><div class="bg-[#FF7700] rounded-full p-[0.6em] absolute top-1em right-1em cursor-pointer w-[2em]"><svg viewBox="0 0 101 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8L93 93" stroke="white" stroke-width="10"></path><path d="M8.00002 93L93 8" stroke="white" stroke-width="10"></path></svg></div> <div class="text-[1.8em] text-center leading-[1.2em]"><p>Read the quote, pick who said it from the two options.</p> <p>Guess right, score points!</p></div></div></div>'),Tt=F('<div class="text-[0.9em] flex justify-between px-[1.5em] py-[0.4em] border-t-[0.1em] border-black"><p class="w-[2.1em] text-center"> </p> <p> </p> <p class="w-[2.1em] text-center"> </p></div>'),Ct=F('<div class="flex border-t-[0.38em] border-black justify-between px-[1.5em] py-[0.3em]"><h2>Rank</h2> <h2>Username</h2> <h2>Score</h2></div> <!>',1),Lt=F('<div class="flex border-t-[0.38em] border-black justify-between px-[1.5em] py-[0.5em]"><h2 class="text-center w-full"><!></h2></div>'),Ft=F('<div class="activeRank"><div class="text-[0.9em] flex justify-between px-[1.5em] py-[0.4em] border-t-[0.2em] border-black"><p class="w-[2.1em] text-center"> </p> <p> </p> <p class="w-[2.1em] text-center"> </p></div></div>'),Dt=F('<div class="fixed w-full flex justify-center items-center h-full z-10 left-0 top-0 "><div class="w-[90%] popup text-[0.75em] h-[90%] border-[0.5em] border-black text-[#161616] bg-[#ff7700]"><div class="text-[1.38em] font-primary flex flex-col h-full justify-between"><div><div class="flex justify-between items-center px-[1.4em]"><h1 class="text-center text-[1.2em] my-[0.5em]">Leaderboard</h1> <div class="cursor-pointer w-[1em]"><svg viewBox="0 0 101 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8L93 93" stroke="black" stroke-width="22"></path><path d="M8.00002 93L93 8" stroke="black" stroke-width="22"></path></svg></div></div> <!></div> <!></div></div></div>'),Et=F(`<!> <!> <div class="text-[0.9em]"><div class="absolute w-[3.5em] top-[67%] -translate-y-1/2 left-[84.8%] -translate-x-1/2"><img class="w-full h-full" src="/qr.png" alt=""></div> <div class="absolute w-[3.5em] top-[58.7%] -translate-y-1/2 left-[14.2%] -translate-x-1/2"><img class="w-full h-full" src="/ql.png" alt=""></div> <div class="w-[15em] text-[1.05em] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2"><div class="relative w-[9.8em] mx-auto"><img class="w-full h-full" src="/bubble.svg" alt=""> <h1 class="text-[3.3em] top-1/2 -translate-x-1/2 left-1/2 -translate-y-1/2
            orangeText whitespace-nowrap absolute drop-shadow-sm shadow-quaternary">WHO SAID THAT</h1></div> <div class="space-y-[0.5em] mt-[1.7em]"><button class="text-[1.4em] pb-[0.5em] grad-button text-white pt-[0.4em] w-full font-secondary">create</button> <button class="defButton">leaderboard</button> <button class="defButton">how to play</button></div></div></div>`,1);function St(t,e){let a=K(e,"step",12,0),s=B(!1),l=B(!1),u=B(!0),f=B([]),_=B({});function y(){window.parent.postMessage({type:"getLeaderboard"},"*")}function x(){y(),h(s,!0)}function i(){h(s,!1)}const b=w=>{const{type:I,data:j}=w.data;if(I==="devvit-message"){const{message:E}=j;E.type==="getLeaderboard"&&(h(f,E.data.leaderboard),h(_,E.data.currentUser),h(u,!1))}};var d=Et();D("message",be,b);var v=V(d);S(v,()=>r(l),w=>{var I=At(),j=o(I),E=o(j);lt(2),n(j),n(I),D("click",E,()=>h(l,!1)),D("click",I,Le(()=>h(l,!1))),g(w,I)});var p=c(v,2);S(p,()=>r(s),w=>{var I=Dt(),j=o(I),E=o(j),R=o(E),U=o(R),J=c(o(U),2);n(U);var Z=c(U,2);S(Z,()=>r(f)&&r(f).length>0,M=>{var O=Ct(),W=c(V(O),2);mt(W,1,()=>r(f),dt,(G,N)=>{var H=Tt(),ee=o(H),z=o(ee,!0);n(ee);var L=c(ee,2),P=o(L,!0);n(L);var ae=c(L,2),oe=o(ae,!0);n(ae),n(H),Q(()=>{ge(H,"activeRank",r(N).rank==r(_).rank),$(z,r(N).rank),$(P,r(N).username),$(oe,r(N).score)}),g(G,H)}),g(M,O)},M=>{var O=Lt(),W=o(O),G=o(W);S(G,()=>r(u),N=>{var H=ve("Loading...");g(N,H)},N=>{var H=ve("No data");g(N,H)}),n(W),n(O),g(M,O)}),n(R);var X=c(R,2);S(X,()=>r(_)&&r(_).rank>5,M=>{var O=Ft(),W=o(O),G=o(W),N=o(G,!0);n(G);var H=c(G,2),ee=o(H,!0);n(H);var z=c(H,2),L=o(z,!0);n(z),n(W),n(O),Q(()=>{$(N,r(_).rank),$(ee,r(_).username),$(L,r(_).score)}),g(M,O)}),n(E),n(j),n(I),D("click",J,i),D("click",I,Le(i)),g(w,I)});var T=c(p,2),q=c(o(T),4),m=c(o(q),2),k=o(m),A=c(k,2),C=c(A,2);n(m),n(q),n(T),D("click",k,()=>a(1)),D("click",A,x),D("click",C,()=>h(l,!0)),g(t,d)}var qt=F('<button class="hover:selectionShadow absolute rounded-full right-2em top-1/2 -translate-y-1/2 bg-[#ff7700]  w-3em flex justify-center items-center aspect-square"><div class="w-[2em] ml-[0.2em]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>'),Mt=F('<div class="w-[50%]"><label for="questionInput" class="text-center block text-[2em] orangeTextInv">Enter Quote:</label> <input placeholder="Quote" type="text" id="" class="block text-[1.2em] w-full py-[0.3em] border-[0.25em] border-[#ff7700] focus-within:outline-none outline-none rounded-full px-[1em]  "></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button> <!>',1),Ot=F('<button class="hover:selectionShadow absolute rounded-full right-2em top-1/2 -translate-y-1/2 bg-[#ff7700]  w-3em flex justify-center items-center aspect-square"><div class="w-[2em] ml-[0.2em]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>'),Bt=F('<div class="w-[50%]"><p class="block text-[2.36em] text-center orangeTextInv">enter person no: 1</p> <div class="flex justify-center items-center gap-1em"><img class="border-[0.25em] border-[#e0e0e0]  block w-[45%] object-cover aspect-square my-[0.8em] bg-[#ff77008f] rounded-[1em]" alt=""> <div class="text-[0.7em] w-[55%] mr-[0.5em]"><button class="defButton">add image</button></div></div> <input placeholder="name" type="text" id="" class="block text-[1.2em] w-full py-[0.3em] border-[0.25em] border-[#ff7700] focus-within:outline-none outline-none rounded-full px-[1em]  "></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button> <!>',1),Nt=F('<button class="hover:selectionShadow absolute rounded-full right-2em top-1/2 -translate-y-1/2 bg-[#ff7700]  w-3em flex justify-center items-center aspect-square"><div class="w-[2em] ml-[0.2em]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>'),$t=F('<div class="w-[50%]"><p class="block text-[2.36em] text-center orangeTextInv">enter person no: 2</p> <div class="flex justify-center items-center gap-1em"><img class="border-[0.25em] border-[#e0e0e0]  block w-[45%] object-cover aspect-square my-[0.8em] bg-[#ff77008f] rounded-[1em]" alt=""> <div class="text-[0.7em] w-[55%] mr-[0.5em]"><button class="defButton">add image</button></div></div> <input placeholder="name" type="text" id="" class="block text-[1.2em] w-full py-[0.3em] border-[0.25em] border-[#ff7700] focus-within:outline-none outline-none rounded-full px-[1em]  "></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button> <!>',1),Rt=F('<div class="text-center mt-[1em]"><button class="text-[1.2em] pb-[0.2em] grad-button text-white pt-[0.1em] w-[7em] font-secondary">create post</button></div>'),Ht=F('<div class="w-[70%]"><p class="block text-[2.5em] text-center orangeTextInv">choose the right option</p> <div class="w-[75%] mx-auto mt-[0em] flex gap-2em justify-center items-center"><button class="cursor-pointer active:bg-[#ff7700] hover:bg-[#ff7700b5] p-[0.5em] w-1/2 rounded-[1em] hover:selectionShadow flex flex-col justify-center items-center gap-[0.2em]"><img class="border-[0.25em] border-[#e0e0e0]  block w-full object-cover aspect-square  bg-[#ff77008f] rounded-[1em]" alt=""> <p class="text-[1em] h-[2.5em] mt-[0.3em] flex justify-center items-center text-center leading-[1.1em] font-secondary"> </p></button> <button class="cursor-pointer active:bg-[#ff7700] hover:bg-[#ff7700b5] p-[0.5em] w-1/2 rounded-[1em] hover:selectionShadow flex flex-col justify-center items-center gap-[0.2em]"><img class="border-[0.25em] border-[#e0e0e0]  block w-full object-cover aspect-square  bg-[#ff77008f] rounded-[1em]" alt=""> <p class="text-[1em] h-[2.5em] mt-[0.3em] flex justify-center items-center text-center leading-[1.1em] font-secondary"> </p></button></div> <!></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>',1),zt=F('<div class="relative h-screen flex flex-col justify-center items-center"><!></div>');function Vt(t,e){we();let a=K(e,"newCreateStep",12);function s(m,k,A,C,w,I){var j;(j=window.parent)==null||j.postMessage({type:"setGameData",data:{question:m,choice_one_text:k,choice_two_text:A,choice_one_image:C,choice_two_image:w,correct_choice:I}},"*")}function l(){console.log("Adding image..."),window.parent.postMessage({type:"addImage"},"*")}let u=B(0);const f=m=>{const{type:k,data:A}=m.data;if(k==="devvit-message"){const{message:C}=A;if(C.type==="imageUploaded"){ie(le,!0),console.log("Image uploaded:",C.data.imageUrl);const w=async()=>{try{(await fetch(C.data.imageUrl)).status===404?setTimeout(w,500):(r(u)==0?h(b,C.data.imageUrl):r(u)==1&&h(d,C.data.imageUrl),ie(le,!1))}catch(I){console.error("Error checking image URL:",I),setTimeout(w,500)}};w()}}};async function _(){console.log("Sending game data..."),ie(le,!0);try{s(r(y),r(x),r(i),r(b),r(d),r(v))}catch(m){console.error("Error uploading images:",m)}}let y=B(""),x=B(""),i=B(""),b=B("/placeholder.jpeg"),d=B("/placeholder.jpeg"),v=B(null),p=B(0);var T=zt();D("message",be,f);var q=o(T);S(q,()=>r(p)==0,m=>{var k=Mt(),A=V(k),C=c(o(A),2);ue(C),n(A);var w=c(A,2),I=c(w,2);S(I,()=>r(y).trim()!="",j=>{var E=qt();D("click",E,()=>h(p,r(p)+1)),g(j,E)}),me(C,()=>r(y),j=>h(y,j)),D("click",w,()=>a(0)),g(m,k)},m=>{var k=se(),A=V(k);S(A,()=>r(p)==1,C=>{var w=Bt(),I=V(w),j=c(o(I),2),E=o(j),R=c(E,2),U=o(R);n(R),n(j);var J=c(j,2);ue(J),n(I);var Z=c(I,2),X=c(Z,2);S(X,()=>r(x).trim()!=0&&r(b)!="/placeholder.jpeg"&&r(b)!="",M=>{var O=Ot();D("click",O,()=>h(p,r(p)+1)),g(M,O)}),Q(()=>Y(E,"src",r(b))),D("click",U,()=>{h(u,0),l()}),me(J,()=>r(x),M=>h(x,M)),D("click",Z,()=>h(p,r(p)-1)),g(C,w)},C=>{var w=se(),I=V(w);S(I,()=>r(p)==2,j=>{var E=$t(),R=V(E),U=c(o(R),2),J=o(U),Z=c(J,2),X=o(Z);n(Z),n(U);var M=c(U,2);ue(M),n(R);var O=c(R,2),W=c(O,2);S(W,()=>r(i).trim()!=0&&r(d)!="/placeholder.jpeg"&&r(d)!="",G=>{var N=Nt();D("click",N,()=>h(p,r(p)+1)),g(G,N)}),Q(()=>Y(J,"src",r(d))),D("click",X,()=>{h(u,1),l()}),me(M,()=>r(i),G=>h(i,G)),D("click",O,()=>h(p,r(p)-1)),g(j,E)},j=>{var E=se(),R=V(E);S(R,()=>r(p)==3,U=>{var J=Ht(),Z=V(J),X=c(o(Z),2),M=o(X),O=o(M),W=c(O,2),G=o(W,!0);n(W),n(M);var N=c(M,2),H=o(N),ee=c(H,2),z=o(ee,!0);n(ee),n(N),n(X);var L=c(X,2);S(L,()=>r(v)!=null,ae=>{var oe=Rt(),Be=o(oe);n(oe),D("click",Be,_),g(ae,oe)}),n(Z);var P=c(Z,2);Q(()=>{ge(M,"activeChoice",r(v)==0),Y(O,"src",r(b)),$(G,r(x)),ge(N,"activeChoice",r(v)==1),Y(H,"src",r(d)),$(z,r(i))}),D("click",M,()=>h(v,0)),D("click",N,()=>h(v,1)),D("click",P,()=>h(p,r(p)-1)),g(U,J)},null,!0),g(j,E)},!0),g(C,w)},!0),g(m,k)}),n(T),g(t,T)}var Gt=F('<div class="z-[10] absolute bg-[#FAFE41] text-[0.6em] px-[1.4em] py-[0.4em] border-[0.2em] border-black top-[1em] left-[1em] font-secondary "><h2> </h2></div> <!>',1);function Ut(t,e){let a=K(e,"username",8,""),s=B(0);var l=Gt(),u=V(l),f=o(u),_=o(f);n(f),n(u);var y=c(u,2);S(y,()=>r(s)==0,x=>{St(x,{get step(){return r(s)},set step(i){h(s,i)},$$legacy:!0})},x=>{var i=se(),b=V(i);S(b,()=>r(s)==1,d=>{Vt(d,{get newCreateStep(){return r(s)},set newCreateStep(v){h(s,v)},$$legacy:!0})},null,!0),g(x,i)}),Q(()=>$(_,`Welcome ${a()??""}!!`)),g(t,l)}function Zt(t,e){let a=K(e,"gameData",8),s=K(e,"username",8),l=K(e,"mode",12),u=B(null);Oe(t,{isAdminView:!0,get username(){return s()},get mode(){return l()},set mode(_){l(_)},get selectedChoice(){return r(u)},set selectedChoice(_){h(u,_)},get gameData(){return a()},$$legacy:!0})}var Wt=F('<div class="flex text-[2em] orangeText justify-center items-center fixed z-[100] bg-[#00000094] left-0 top-0 w-full h-full ">loading...</div>'),Kt=F('<div class="relative h-screen"><div class="absolute w-full h-full"><img class="w-full h-full object-cover" src="/bg.svg" alt=""></div> <!></div>'),Pt=F('<p class="text-[2em] absolute left-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2">loading...</p>'),Qt=F("<!> <!>",1);function sa(t){const e=we(),a=()=>it(le,"$ShowLoader",e);let s=B("guest"),l=B("create"),u=B(!1),f=B({username:"",question:"I HAVE NEVER SEEN A THIN PERSON DRINKING A DIET COKE....",choice_one_text:"ch 1",choice_two_text:"ch 2",choice_one_image:"/temp/1.jpg",correct_choice:1,answered:null,choice_two_image:"/temp/2.jpg",creator_username:"ajaay",is_creator:!1,postId:null,choiceOutcome:{0:0,1:0}});const _=d=>{const{type:v,data:p}=d.data;if(v==="devvit-message"){const{message:T}=p;if(T.type==="initialData"){if(r(u))return;h(s,T.data.username),T.data.isGameData&&(h(l,"play"),h(f,{...T.data})),T.data.is_creator&&(h(l,"adminView"),h(f,{...T.data})),h(u,!0)}}},y=setInterval(()=>{r(u)?clearInterval(y):window.parent.postMessage({type:"initialData"},"*")},500);var x=Qt();D("message",be,_);var i=V(x);S(i,a,d=>{var v=Wt();g(d,v)});var b=c(i,2);S(b,()=>r(u),d=>{var v=Kt(),p=c(o(v),2);S(p,()=>r(l)=="create",T=>{Ut(T,{get username(){return r(s)}})},T=>{var q=se(),m=V(q);S(m,()=>r(l)=="play",k=>{jt(k,{get mode(){return r(l)},set mode(A){h(l,A)},get gameData(){return r(f)},$$legacy:!0})},k=>{var A=se(),C=V(A);S(C,()=>r(l)=="adminView",w=>{Zt(w,{get mode(){return r(l)},set mode(I){h(l,I)},get username(){return r(s)},get gameData(){return r(f)},$$legacy:!0})},null,!0),g(k,A)},!0),g(T,q)}),n(v),g(d,v)},d=>{var v=Pt();g(d,v)}),g(t,x)}export{sa as component};
