import{a as h,t as F,d as ve,c as se}from"../chunks/disclose-version.Doy5IeW9.js";import"../chunks/legacy.CJJIs3wS.js";import{o as te,q as $e,K as Re,J as De,al as Ee,P as He,Q as ye,z as ke,R as fe,y as ne,ah as ze,as as ce,L as Se,M as qe,N as Ve,A as Ie,at as Ge,au as Ue,ak as Ze,av as We,aw as Ke,a9 as Pe,a7 as Qe,D as je,ax as Ye,ay as Je,az as Xe,af as et,I as Ae,aA as tt,aB as at,aC as rt,aD as st,ao as lt,p as de,t as Q,j as ue,m as c,k as l,l as o,i as V,F as _,g as r,aE as B,aF as we,aG as ot}from"../chunks/runtime.D2felEhh.js";import{d as nt,l as it,e as D,a as $,s as xe,f as ie,b as ct}from"../chunks/store.D2G6wj1L.js";import{p as K,i as S,o as Me}from"../chunks/index-client.Bvm06DZa.js";import{i as me}from"../chunks/lifecycle.BErBUR7C.js";import{w as vt}from"../chunks/index.CCVhtFZT.js";function dt(t,e){return e}function ut(t,e,a,s){for(var n=[],u=e.length,f=0;f<u;f++)Ue(e[f].e,n,!0);var p=u>0&&n.length===0&&a!==null;if(p){var y=a.parentNode;Ze(y),y.append(a),s.clear(),re(t,e[0].prev,e[u-1].next)}We(n,()=>{for(var x=0;x<u;x++){var i=e[x];p||(s.delete(i.k),re(t,i.prev,i.next)),Ke(i.e,!p)}})}function mt(t,e,a,s,n,u=null){var f=t,p={flags:e,items:new Map,first:null};te&&$e();var y=null,x=!1;Re(()=>{var i=a(),b=De(i)?i:i==null?[]:Ee(i),v=b.length;if(x&&v===0)return;x=v===0;let d=!1;if(te){var g=f.data===He;g!==(v===0)&&(f=ye(),ke(f),fe(!1),d=!0)}if(te){for(var T=null,q,m=0;m<v;m++){if(ne.nodeType===8&&ne.data===ze){f=ne,d=!0,fe(!1);break}var k=b[m],A=s(k,m);q=Oe(ne,p,T,null,k,A,m,n,e),p.items.set(A,q),T=q}v>0&&ke(ye())}if(!te){var C=Pe;ft(b,p,f,n,e,(C.f&ce)!==0,s)}u!==null&&(v===0?y?Se(y):y=qe(()=>u(f)):y!==null&&Ve(y,()=>{y=null})),d&&fe(!0),a()}),te&&(f=ne)}function ft(t,e,a,s,n,u,f){var p=t.length,y=e.items,x=e.first,i=x,b,v=null,d=[],g=[],T,q,m,k;for(k=0;k<p;k+=1){if(T=t[k],q=f(T,k),m=y.get(q),m===void 0){var A=i?i.e.nodes_start:a;v=Oe(A,e,v,v===null?e.first:v.next,T,q,k,s,n),y.set(q,v),d=[],g=[],i=v.next;continue}if(pt(m,T,k),m.e.f&ce&&Se(m.e),m!==i){if(b!==void 0&&b.has(m)){if(d.length<g.length){var C=g[0],w;v=C.prev;var I=d[0],j=d[d.length-1];for(w=0;w<d.length;w+=1)Te(d[w],C,a);for(w=0;w<g.length;w+=1)b.delete(g[w]);re(e,I.prev,j.next),re(e,v,I),re(e,j,C),i=C,v=j,k-=1,d=[],g=[]}else b.delete(m),Te(m,i,a),re(e,m.prev,m.next),re(e,m,v===null?e.first:v.next),re(e,v,m),v=m;continue}for(d=[],g=[];i!==null&&i.k!==q;)(u||!(i.e.f&ce))&&(b??(b=new Set)).add(i),g.push(i),i=i.next;if(i===null)continue;m=i}d.push(m),v=m,i=m.next}if(i!==null||b!==void 0){for(var E=b===void 0?[]:Ee(b);i!==null;)(u||!(i.e.f&ce))&&E.push(i),i=i.next;var R=E.length;if(R>0){var U=null;ut(e,E,U,y)}}Ie.first=e.first&&e.first.e,Ie.last=v&&v.e}function pt(t,e,a,s){Ge(t.v,e),t.i=a}function Oe(t,e,a,s,n,u,f,p,y){var x=(y&Je)!==0,i=(y&Xe)===0,b=x?i?Qe(n):je(n):n,v=y&Ye?je(f):f,d={i:v,v:b,k:u,a:null,e:null,prev:a,next:s};try{return d.e=qe(()=>p(t,b,v),te),d.e.prev=a&&a.e,d.e.next=s&&s.e,a===null?e.first=d:(a.next=d,a.e.next=d.e),s!==null&&(s.prev=d,s.e.prev=d.e),d}finally{}}function Te(t,e,a){for(var s=t.next?t.next.e.nodes_start:a,n=e?e.e.nodes_start:a,u=t.e.nodes_start;u!==s;){var f=et(u);n.before(u),u=f}}function re(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function pe(t){if(te){var e=!1,a=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var s=t.value;Y(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var n=t.checked;Y(t,"checked",null),t.checked=n}}};t.__on_r=a,tt(a),nt()}}function Y(t,e,a,s){var n=t.__attributes??(t.__attributes={});te&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[rt]=a),a==null?t.removeAttribute(e):typeof a!="string"&&gt(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var Ce=new Map;function gt(t){var e=Ce.get(t.nodeName);if(e)return e;Ce.set(t.nodeName,e=[]);for(var a,s=Ae(t),n=Element.prototype;n!==s;){a=at(s);for(var u in a)a[u].set&&e.push(u);s=Ae(s)}return e}function be(t,e,a){if(a){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function ge(t,e,a=e){var s=st();it(t,"input",()=>{var n=he(t)?_e(t.value):t.value;a(n),s&&n!==(n=e())&&(t.value=n??"")}),lt(()=>{var n=e();if(te&&t.defaultValue!==t.value){a(he(t)?_e(t.value):t.value);return}he(t)&&n===_e(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function he(t){var e=t.type;return e==="number"||e==="range"}function _e(t){return t===""?null:+t}function Le(t){return function(...e){var a=e[0];a.target===this&&(t==null||t.apply(this,e))}}function Fe(t,e){var u;var a=(u=t.$$events)==null?void 0:u[e.type],s=De(a)?a.slice():a==null?[]:[a];for(var n of s)n.call(this,e)}var ht=F(`<div class="text-[0.9em]"><div class="absolute w-[3.5em] top-[67%] -translate-y-1/2 left-[88.8%] -translate-x-1/2"><img class="w-full h-full" src="/qr.png" alt=""></div> <div class="absolute w-[3.5em] top-[50.7%] -translate-y-1/2 left-[8.2%] -translate-x-1/2"><img class="w-full h-full" src="/ql.png" alt=""></div> <div class="w-[70%] text-[1.05em] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2"><h1 class="text-[2.3em] text-center leading-[1.1em] 
        text-[#FF7700] drop-shadow-sm shadow-quaternary"> </h1> <div class="flex justify-center items-center gap-1em mt-[1.2em] pb-5em"><div class="relative size-[12em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <div class=" absolute left-1/2 -translate-x-1/2 bottom-[-5.3em] "><p class="orangeTextInv top-[-1.85em] absolute left-1/2 -translate-x-1/2 whitespace-nowrap text-[1.5em]"> </p> <div><button class="selectButton">select</button></div></div></div> <div class="text-[2.8em] w-[1.2em]"><p class="orangeText">or</p></div> <div class="relative size-[12em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <div class=" absolute left-1/2 -translate-x-1/2 bottom-[-5.3em] "><p class="orangeTextInv top-[-1.85em] absolute left-1/2 -translate-x-1/2 whitespace-nowrap text-[1.5em]"> </p> <div><button class="selectButton">select</button></div></div></div></div></div></div>`);function _t(t,e){de(e,!1);let a=K(e,"selectedChoice",12,null),s=K(e,"gameData",8);me();var n=ht(),u=c(l(n),4),f=l(u),p=l(f);o(f);var y=c(f,2),x=l(y),i=l(x),b=c(i,2),v=l(b),d=l(v,!0);o(v);var g=c(v,2),T=l(g);o(g),o(b),o(x);var q=c(x,4),m=l(q),k=c(m,2),A=l(k),C=l(A,!0);o(A);var w=c(A,2),I=l(w);o(w),o(k),o(q),o(y),o(u),o(n),Q(()=>{$(p,`" ${s().question??""} "`),Y(i,"src",s().choice_one_image),$(d,s().choice_one_text),Y(m,"src",s().choice_two_image),$(C,s().choice_two_text)}),D("click",T,()=>a(0)),D("click",g,function(j){Fe.call(this,e,j)}),D("click",I,()=>a(1)),D("click",w,function(j){Fe.call(this,e,j)}),h(t,n),ue()}var bt=F("<h2> </h2>"),wt=F("<h2> </h2>"),xt=F('<div class="text-[0.75em] absolute rotate-[-18deg] w-[10em] -top-[3em] -left-[5em]"><img src="/bubble.svg" alt=""> <p class="font-secondary text-[1.1em] leading-[1em] text-center absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2"> </p></div>'),yt=F('<div class="text-[0.75em] absolute rotate-[-18deg] w-[10em] -top-[3em] -left-[5em]"><img src="/bubble.svg" alt=""> <p class="font-secondary text-[1.1em] leading-[1em] text-center absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2"> </p></div>'),kt=F(`<div class="z-[10] absolute bg-[#FAFE41] text-[0.6em] px-[1.4em] py-[0.4em] border-[0.2em] border-black top-[1em] left-[1em] font-secondary "><!></div> <button class=" absolute top-1em right-1em w-[7em] text-[0.78em] pb-[0.4em] grad-button text-white pt-[0.3em] font-secondary">create</button> <div class="text-[0.8em]"><div class="text-[0.9em]"><div class="absolute w-[3.5em] top-[67%] -translate-y-1/2 left-[88.8%] -translate-x-1/2"><img class="w-full h-full" src="/qr.png" alt=""></div> <div class="absolute w-[3.5em] top-[50.7%] -translate-y-1/2 left-[8.2%] -translate-x-1/2"><img class="w-full h-full" src="/ql.png" alt=""></div> <div class="w-[65%] text-[1.05em] absolute top-[50%] -translate-y-1/2 left-1/2 -translate-x-1/2"><h1 class="text-[6.2em] text-center leading-[1.1em]
            text-[#FF7700] drop-shadow-sm shadow-quaternary"><!></h1> <div class="flex justify-between items-center gap-1em mt-[2.1em]"><div class="relative size-[10em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <!></div> <div class="text-[1.4em] mt-1hem leading-[1.1em] orangeTextInv text-center"><p>total votes</p> <p class="text-[1.1em] font-secondary"> </p></div> <div class="relative  size-[10em] border-[0.5em] border-secondary"><img class="w-full h-full object-cover" alt=""> <!></div></div> <div class="w-full mt-[0.9em] rounded-full h-2em relative bg-secondary flex justify-between items-center"><div class="absolute h-full bg-quaternary rounded-full"></div> <p class="relative px-1em text-[1.1em] text-white"></p> <p class="relative px-1em text-[1.1em] text-white"></p></div> <div class="flex mt-[0.5em] justify-between items-center"><p class="orangeTextInv whitespace-nowrap text-[1.5em]"> </p> <p class="orangeTextInv whitespace-nowrap text-[1.5em]"> </p></div></div></div></div>`,1);function Be(t,e){de(e,!1);let a=K(e,"selectedChoice",8),s=K(e,"gameData",8),n=K(e,"isAdminView",8),u=K(e,"username",8),f=K(e,"mode",12),p=(s().choiceOutcome[0]/(s().choiceOutcome[0]+s().choiceOutcome[1])*100||0).toFixed(),y=(s().choiceOutcome[1]/(s().choiceOutcome[0]+s().choiceOutcome[1])*100||0).toFixed();me();var x=kt(),i=V(x),b=l(i);S(b,n,z=>{var L=bt(),P=l(L);o(L),Q(()=>$(P,`Welcome ${u()??""}!!`)),h(z,L)},z=>{var L=wt(),P=l(L,!0);o(L),Q(()=>$(P,s().correct_choice==a()?"yayy!!":"oops!!")),h(z,L)}),o(i);var v=c(i,2),d=c(v,2),g=l(d),T=c(l(g),4),q=l(T),m=l(q);S(m,n,z=>{var L=ve("your post");h(z,L)},z=>{var L=ve();Q(()=>$(L,s().correct_choice==a()?"you win!!":"you lose!!")),h(z,L)}),o(q);var k=c(q,2),A=l(k),C=l(A),w=c(C,2);S(w,()=>a()==0,z=>{var L=xt(),P=c(l(L),2),ae=l(P,!0);o(P),o(L),Q(()=>$(ae,s().correct_choice==a()?"you were right!!":"AHAHAH!! WRONG")),h(z,L)}),o(A);var I=c(A,2),j=c(l(I),2),E=l(j,!0);o(j),o(I);var R=c(I,2),U=l(R),J=c(U,2);S(J,()=>a()==1,z=>{var L=yt(),P=c(l(L),2),ae=l(P,!0);o(P),o(L),Q(()=>$(ae,s().correct_choice==a()?"you were right!!":"AHAHAH!! WRONG")),h(z,L)}),o(R),o(k);var Z=c(k,2),X=l(Z);Y(X,"style",`width:${p??""}%;`);var M=c(X,2);M.textContent=`${p??""}%`;var O=c(M,2);O.textContent=`${(y==0?0:100-p)??""}%`,o(Z);var W=c(Z,2),G=l(W),N=l(G,!0);o(G);var H=c(G,2),ee=l(H,!0);o(H),o(W),o(T),o(g),o(d),Q(()=>{Y(A,"style",`border-color:${(s().correct_choice==0?"#55FF66":"#FF5555")??""} ;`),Y(C,"src",s().choice_one_image),$(E,s().choiceOutcome[0]+s().choiceOutcome[1]),Y(R,"style",`border-color:${(s().correct_choice==1?"#55FF66":"#FF5555")??""} ;`),Y(U,"src",s().choice_two_image),$(N,s().choice_one_text),$(ee,s().choice_two_text)}),D("click",v,()=>f("create")),h(t,x),ue()}const le=vt(!1);var It=F('<div class="z-[10] absolute bg-[#FAFE41] text-[0.6em] px-[1.4em] py-[0.4em] border-[0.2em] border-black top-[1em] left-[1em] font-secondary "><h2>good luck!!</h2></div> <div class="text-[0.8em]"><!></div>',1);function jt(t,e){de(e,!1),xe();let a=K(e,"gameData",12),s=K(e,"mode",12),n=B(null),u=B(0);Me(()=>{a().answered!==null&&(_(u,1),_(n,a().answered))});function f(){ie(le,!0),window.parent.postMessage({type:"submitChoice",data:{selectedChoice:r(n)}},"*"),a({...a(),choiceOutcome:{...a().choiceOutcome,[r(n)]:a().choiceOutcome[r(n)]+1}}),setTimeout(()=>{_(u,1),ie(le,!1)},890)}me();var p=se(),y=V(p);S(y,()=>r(u)==0,x=>{var i=It(),b=c(V(i),2),v=l(b);_t(v,{get gameData(){return a()},get selectedChoice(){return r(n)},set selectedChoice(d){_(n,d)},$$events:{click:f},$$legacy:!0}),o(b),h(x,i)},x=>{var i=se(),b=V(i);S(b,()=>r(u)==1,v=>{Be(v,{get mode(){return s()},set mode(d){s(d)},get selectedChoice(){return r(n)},set selectedChoice(d){_(n,d)},get gameData(){return a()},set gameData(d){a(d)},$$legacy:!0})},null,!0),h(x,i)}),h(t,p),ue()}var At=F('<div class="fixed w-full flex justify-center items-center h-full z-10 left-0 top-0 "><div class="relative popup flex justify-center items-center w-[90%] text-[0.75em] h-[90%] border-[0.5em] border-black text-[#FF7700] bg-[#FFFFFF]"><div class="bg-[#FF7700] rounded-full p-[0.6em] absolute top-1em right-1em cursor-pointer w-[2em]"><svg viewBox="0 0 101 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8L93 93" stroke="white" stroke-width="10"></path><path d="M8.00002 93L93 8" stroke="white" stroke-width="10"></path></svg></div> <div class="text-[1.8em] text-center leading-[1.2em]"><p>Read the quote, pick who said it from the two options.</p> <p>Guess right, score points!</p></div></div></div>'),Tt=F('<div class="text-[0.9em] flex justify-between px-[1.5em] py-[0.4em] border-t-[0.1em] border-black"><p class="w-[2.1em] text-center"> </p> <p> </p> <p class="w-[2.1em] text-center"> </p></div>'),Ct=F('<div class="flex border-t-[0.38em] border-black justify-between px-[1.5em] py-[0.3em]"><h2>Rank</h2> <h2>Username</h2> <h2>Score</h2></div> <!>',1),Lt=F('<div class="flex border-t-[0.38em] border-black justify-between px-[1.5em] py-[0.5em]"><h2 class="text-center w-full"><!></h2></div>'),Ft=F('<div class="activeRank"><div class="text-[0.9em] flex justify-between px-[1.5em] py-[0.4em] border-t-[0.2em] border-black"><p class="w-[2.1em] text-center"> </p> <p> </p> <p class="w-[2.1em] text-center"> </p></div></div>'),Dt=F('<div class="fixed w-full flex justify-center items-center h-full z-10 left-0 top-0 "><div class="w-[90%] popup text-[0.75em] h-[90%] border-[0.5em] border-black text-[#161616] bg-[#ff7700]"><div class="text-[1.38em] font-primary flex flex-col h-full justify-between"><div><div class="flex justify-between items-center px-[1.4em]"><h1 class="text-center text-[1.2em] my-[0.5em]">Leaderboard</h1> <div class="cursor-pointer w-[1em]"><svg viewBox="0 0 101 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8L93 93" stroke="black" stroke-width="22"></path><path d="M8.00002 93L93 8" stroke="black" stroke-width="22"></path></svg></div></div> <!></div> <!></div></div></div>'),Et=F(`<!> <!> <div class="text-[0.9em]"><div class="absolute w-[3.5em] top-[67%] -translate-y-1/2 left-[84.8%] -translate-x-1/2"><img class="w-full h-full" src="/qr.png" alt=""></div> <div class="absolute w-[3.5em] top-[58.7%] -translate-y-1/2 left-[14.2%] -translate-x-1/2"><img class="w-full h-full" src="/ql.png" alt=""></div> <div class="w-[15em] text-[1.05em] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2"><div class="relative w-[9.8em] mx-auto"><img class="w-full h-full" src="/bubble.svg" alt=""> <h1 class="text-[3.3em] top-1/2 -translate-x-1/2 left-1/2 -translate-y-1/2
            orangeText whitespace-nowrap absolute drop-shadow-sm shadow-quaternary">WHO SAID THAT</h1></div> <div class="space-y-[0.5em] mt-[1.7em]"><button class="text-[1.4em] pb-[0.5em] grad-button text-white pt-[0.4em] w-full font-secondary">create</button> <button class="defButton">leaderboard</button> <button class="defButton">how to play</button></div></div></div>`,1);function St(t,e){let a=K(e,"step",12,0),s=B(!1),n=B(!1),u=B(!0),f=B([]),p=B({});function y(){window.parent.postMessage({type:"getLeaderboard"},"*")}function x(){y(),_(s,!0)}function i(){_(s,!1)}const b=w=>{const{type:I,data:j}=w.data;if(I==="devvit-message"){const{message:E}=j;E.type==="getLeaderboard"&&(_(f,E.data.leaderboard),_(p,E.data.currentUser),_(u,!1))}};var v=Et();D("message",we,b);var d=V(v);S(d,()=>r(n),w=>{var I=At(),j=l(I),E=l(j);ot(2),o(j),o(I),D("click",E,()=>_(n,!1)),D("click",I,Le(()=>_(n,!1))),h(w,I)});var g=c(d,2);S(g,()=>r(s),w=>{var I=Dt(),j=l(I),E=l(j),R=l(E),U=l(R),J=c(l(U),2);o(U);var Z=c(U,2);S(Z,()=>r(f)&&r(f).length>0,M=>{var O=Ct(),W=c(V(O),2);mt(W,1,()=>r(f),dt,(G,N)=>{var H=Tt(),ee=l(H),z=l(ee,!0);o(ee);var L=c(ee,2),P=l(L,!0);o(L);var ae=c(L,2),oe=l(ae,!0);o(ae),o(H),Q(()=>{be(H,"activeRank",r(N).rank==r(p).rank),$(z,r(N).rank),$(P,r(N).username),$(oe,r(N).score)}),h(G,H)}),h(M,O)},M=>{var O=Lt(),W=l(O),G=l(W);S(G,()=>r(u),N=>{var H=ve("Loading...");h(N,H)},N=>{var H=ve("No data");h(N,H)}),o(W),o(O),h(M,O)}),o(R);var X=c(R,2);S(X,()=>r(p)&&r(p).rank>5,M=>{var O=Ft(),W=l(O),G=l(W),N=l(G,!0);o(G);var H=c(G,2),ee=l(H,!0);o(H);var z=c(H,2),L=l(z,!0);o(z),o(W),o(O),Q(()=>{$(N,r(p).rank),$(ee,r(p).username),$(L,r(p).score)}),h(M,O)}),o(E),o(j),o(I),D("click",J,i),D("click",I,Le(i)),h(w,I)});var T=c(g,2),q=c(l(T),4),m=c(l(q),2),k=l(m),A=c(k,2),C=c(A,2);o(m),o(q),o(T),D("click",k,()=>a(1)),D("click",A,x),D("click",C,()=>_(n,!0)),h(t,v)}var qt=F('<button class="hover:selectionShadow absolute rounded-full right-2em top-1/2 -translate-y-1/2 bg-[#ff7700]  w-3em flex justify-center items-center aspect-square"><div class="w-[2em] ml-[0.2em]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>'),Mt=F('<div class="w-[50%]"><label for="questionInput" class="text-center block text-[2em] orangeTextInv">Enter Quote:</label> <input placeholder="Quote" type="text" id="" class="block text-[1.2em] w-full py-[0.3em] border-[0.25em] border-[#ff7700] focus-within:outline-none outline-none rounded-full px-[1em]  "></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button> <!>',1),Ot=F('<button class="hover:selectionShadow absolute rounded-full right-2em top-1/2 -translate-y-1/2 bg-[#ff7700]  w-3em flex justify-center items-center aspect-square"><div class="w-[2em] ml-[0.2em]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>'),Bt=F('<div class="w-[50%]"><p class="block text-[2.36em] text-center orangeTextInv">enter person no: 1</p> <div class="flex justify-center items-center gap-1em"><img class="border-[0.25em] border-[#e0e0e0]  block w-[45%] object-cover aspect-square my-[0.8em] bg-[#ff77008f] rounded-[1em]" alt=""> <div class="text-[0.7em] w-[55%] mr-[0.5em]"><button class="defButton">add image</button></div></div> <input placeholder="name" type="text" id="" class="block text-[1.2em] w-full py-[0.3em] border-[0.25em] border-[#ff7700] focus-within:outline-none outline-none rounded-full px-[1em]  "></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button> <!>',1),Nt=F('<button class="hover:selectionShadow absolute rounded-full right-2em top-1/2 -translate-y-1/2 bg-[#ff7700]  w-3em flex justify-center items-center aspect-square"><div class="w-[2em] ml-[0.2em]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>'),$t=F('<div class="w-[50%]"><p class="block text-[2.36em] text-center orangeTextInv">enter person no: 2</p> <div class="flex justify-center items-center gap-1em"><img class="border-[0.25em] border-[#e0e0e0]  block w-[45%] object-cover aspect-square my-[0.8em] bg-[#ff77008f] rounded-[1em]" alt=""> <div class="text-[0.7em] w-[55%] mr-[0.5em]"><button class="defButton">add image</button></div></div> <input placeholder="name" type="text" id="" class="block text-[1.2em] w-full py-[0.3em] border-[0.25em] border-[#ff7700] focus-within:outline-none outline-none rounded-full px-[1em]  "></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button> <!>',1),Rt=F('<div class="text-center mt-[1em]"><button class="text-[1.2em] pb-[0.2em] grad-button text-white pt-[0.1em] w-[7em] font-secondary">create post</button></div>'),Ht=F('<div class="w-[70%]"><p class="block text-[2.5em] text-center orangeTextInv">choose the right option</p> <div class="w-[75%] mx-auto mt-[0em] flex gap-2em justify-center items-center"><button class="cursor-pointer active:bg-[#ff7700] hover:bg-[#ff7700b5] p-[0.5em] w-1/2 rounded-[1em] hover:selectionShadow flex flex-col justify-center items-center gap-[0.2em]"><img class="border-[0.25em] border-[#e0e0e0]  block w-full object-cover aspect-square  bg-[#ff77008f] rounded-[1em]" alt=""> <p class="text-[1em] h-[2.5em] mt-[0.3em] flex justify-center items-center text-center leading-[1.1em] font-secondary"> </p></button> <button class="cursor-pointer active:bg-[#ff7700] hover:bg-[#ff7700b5] p-[0.5em] w-1/2 rounded-[1em] hover:selectionShadow flex flex-col justify-center items-center gap-[0.2em]"><img class="border-[0.25em] border-[#e0e0e0]  block w-full object-cover aspect-square  bg-[#ff77008f] rounded-[1em]" alt=""> <p class="text-[1em] h-[2.5em] mt-[0.3em] flex justify-center items-center text-center leading-[1.1em] font-secondary"> </p></button></div> <!></div> <button class="hover:selectionShadow absolute rounded-full left-2em top-1/2 -translate-y-1/2 bg-[#ff7700] w-3em  flex justify-center items-center aspect-square"><div class="w-[2em] mr-[0.2em] -rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#e8eaed"><path d="M521.33-480.67 328-674l47.33-47.33L616-480.67 375.33-240 328-287.33l193.33-193.34Z"></path></svg></div></button>',1),zt=F('<div class="relative h-screen flex flex-col justify-center items-center"><!></div>');function Vt(t,e){xe();let a=K(e,"newCreateStep",12);function s(m,k,A,C,w,I){var j;(j=window.parent)==null||j.postMessage({type:"setGameData",data:{question:m,choice_one_text:k,choice_two_text:A,choice_one_image:C,choice_two_image:w,correct_choice:I}},"*")}function n(){console.log("Adding image..."),window.parent.postMessage({type:"addImage"},"*")}let u=B(0);const f=m=>{const{type:k,data:A}=m.data;if(k==="devvit-message"){const{message:C}=A;if(C.type==="imageUploaded"){ie(le,!0),console.log("Image uploaded:",C.data.imageUrl);const w=async()=>{try{(await fetch(C.data.imageUrl)).status===404?setTimeout(w,500):(r(u)==0?_(b,C.data.imageUrl):r(u)==1&&_(v,C.data.imageUrl),ie(le,!1))}catch(I){console.error("Error checking image URL:",I),setTimeout(w,500)}};w()}}};async function p(){console.log("Sending game data..."),ie(le,!0);try{s(r(y),r(x),r(i),r(b),r(v),r(d))}catch(m){console.error("Error uploading images:",m)}}let y=B(""),x=B(""),i=B(""),b=B("/placeholder.jpeg"),v=B("/placeholder.jpeg"),d=B(null),g=B(0);var T=zt();D("message",we,f);var q=l(T);S(q,()=>r(g)==0,m=>{var k=Mt(),A=V(k),C=c(l(A),2);pe(C),o(A);var w=c(A,2),I=c(w,2);S(I,()=>r(y).trim()!="",j=>{var E=qt();D("click",E,()=>_(g,r(g)+1)),h(j,E)}),ge(C,()=>r(y),j=>_(y,j)),D("click",w,()=>a(0)),h(m,k)},m=>{var k=se(),A=V(k);S(A,()=>r(g)==1,C=>{var w=Bt(),I=V(w),j=c(l(I),2),E=l(j),R=c(E,2),U=l(R);o(R),o(j);var J=c(j,2);pe(J),o(I);var Z=c(I,2),X=c(Z,2);S(X,()=>r(x).trim()!=0&&r(b)!="/placeholder.jpeg"&&r(b)!="",M=>{var O=Ot();D("click",O,()=>_(g,r(g)+1)),h(M,O)}),Q(()=>Y(E,"src",r(b))),D("click",U,()=>{_(u,0),n()}),ge(J,()=>r(x),M=>_(x,M)),D("click",Z,()=>_(g,r(g)-1)),h(C,w)},C=>{var w=se(),I=V(w);S(I,()=>r(g)==2,j=>{var E=$t(),R=V(E),U=c(l(R),2),J=l(U),Z=c(J,2),X=l(Z);o(Z),o(U);var M=c(U,2);pe(M),o(R);var O=c(R,2),W=c(O,2);S(W,()=>r(i).trim()!=0&&r(v)!="/placeholder.jpeg"&&r(v)!="",G=>{var N=Nt();D("click",N,()=>_(g,r(g)+1)),h(G,N)}),Q(()=>Y(J,"src",r(v))),D("click",X,()=>{_(u,1),n()}),ge(M,()=>r(i),G=>_(i,G)),D("click",O,()=>_(g,r(g)-1)),h(j,E)},j=>{var E=se(),R=V(E);S(R,()=>r(g)==3,U=>{var J=Ht(),Z=V(J),X=c(l(Z),2),M=l(X),O=l(M),W=c(O,2),G=l(W,!0);o(W),o(M);var N=c(M,2),H=l(N),ee=c(H,2),z=l(ee,!0);o(ee),o(N),o(X);var L=c(X,2);S(L,()=>r(d)!=null,ae=>{var oe=Rt(),Ne=l(oe);o(oe),D("click",Ne,p),h(ae,oe)}),o(Z);var P=c(Z,2);Q(()=>{be(M,"activeChoice",r(d)==0),Y(O,"src",r(b)),$(G,r(x)),be(N,"activeChoice",r(d)==1),Y(H,"src",r(v)),$(z,r(i))}),D("click",M,()=>_(d,0)),D("click",N,()=>_(d,1)),D("click",P,()=>_(g,r(g)-1)),h(U,J)},null,!0),h(j,E)},!0),h(C,w)},!0),h(m,k)}),o(T),h(t,T)}var Gt=F('<div class="z-[10] absolute bg-[#FAFE41] text-[0.6em] px-[1.4em] py-[0.4em] border-[0.2em] border-black top-[1em] left-[1em] font-secondary "><h2> </h2></div> <!>',1);function Ut(t,e){let a=K(e,"username",8,""),s=B(0);var n=Gt(),u=V(n),f=l(u),p=l(f);o(f),o(u);var y=c(u,2);S(y,()=>r(s)==0,x=>{St(x,{get step(){return r(s)},set step(i){_(s,i)},$$legacy:!0})},x=>{var i=se(),b=V(i);S(b,()=>r(s)==1,v=>{Vt(v,{get newCreateStep(){return r(s)},set newCreateStep(d){_(s,d)},$$legacy:!0})},null,!0),h(x,i)}),Q(()=>$(p,`Welcome ${a()??""}!!`)),h(t,n)}function Zt(t,e){let a=K(e,"gameData",8),s=K(e,"username",8),n=K(e,"mode",12),u=B(null);Be(t,{isAdminView:!0,get username(){return s()},get mode(){return n()},set mode(p){n(p)},get selectedChoice(){return r(u)},set selectedChoice(p){_(u,p)},get gameData(){return a()},$$legacy:!0})}var Wt=F('<div class="flex text-[2em] orangeText justify-center items-center fixed z-[100] bg-[#00000094] left-0 top-0 w-full h-full ">loading...</div>'),Kt=F('<div class="relative h-screen"><div class="absolute w-full h-full"><img class="w-full h-full object-cover" src="/bg.svg" alt=""></div> <!></div>'),Pt=F('<p class="text-[2em] absolute left-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2">loading...</p>'),Qt=F("<!> <!>",1);function sa(t,e){de(e,!1);const a=xe(),s=()=>ct(le,"$ShowLoader",a);let n=B("guest"),u=B("create"),f=B(!1),p=B({username:"",question:"I HAVE NEVER SEEN A THIN PERSON DRINKING A DIET COKE....",choice_one_text:"ch 1",choice_two_text:"ch 2",choice_one_image:"/temp/1.jpg",correct_choice:1,answered:null,choice_two_image:"/temp/2.jpg",creator_username:"ajaay",is_creator:!1,postId:null,choiceOutcome:{0:0,1:0}});const y=v=>{const{type:d,data:g}=v.data;if(d==="devvit-message"){const{message:T}=g;T.type==="initialData"&&(_(n,T.data.username),T.data.isGameData&&(_(u,"play"),_(p,{...T.data})),T.data.is_creator&&(_(u,"adminView"),_(p,{...T.data})),_(f,!0))}};Me(()=>{const v=setInterval(()=>{r(f)?clearInterval(v):window.parent.postMessage({type:"initialData"},"*")},500)}),me();var x=Qt();D("message",we,y);var i=V(x);S(i,s,v=>{var d=Wt();h(v,d)});var b=c(i,2);S(b,()=>r(f),v=>{var d=Kt(),g=c(l(d),2);S(g,()=>r(u)=="create",T=>{Ut(T,{get username(){return r(n)}})},T=>{var q=se(),m=V(q);S(m,()=>r(u)=="play",k=>{jt(k,{get mode(){return r(u)},set mode(A){_(u,A)},get gameData(){return r(p)},$$legacy:!0})},k=>{var A=se(),C=V(A);S(C,()=>r(u)=="adminView",w=>{Zt(w,{get mode(){return r(u)},set mode(I){_(u,I)},get username(){return r(n)},get gameData(){return r(p)},$$legacy:!0})},null,!0),h(k,A)},!0),h(T,q)}),o(d),h(v,d)},v=>{var d=Pt();h(v,d)}),h(t,x),ue()}export{sa as component};
